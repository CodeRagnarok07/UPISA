{% extends '../base.html' %}
{% load i18n %}
{% load static %}

{% block title %}contacto{% endblock title %}


{% block header %}
<div class="header-title pb-32">
        <h1>Receta {{receta.nombre}}</h1>
</div>
{% endblock header %}


{% block cont %}

<div class="container">

    <div class="grid md:grid-cols-2 mt-9 gap-x-[140px] gap-y-6 mb-20">

        <div>
            <h2 class="uppercase text-left">{{receta.nombre}}</h2>

            <div class="flex gap-6 mt-5 mb-9 ">
                <div class="flex-center gap-[10px]">
                    <i>
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M9 0.5625C7.33122 0.5625 5.69992 1.05735 4.31238 1.98448C2.92484 2.9116 1.84338 4.22936 1.20477 5.77111C0.566156 7.31286 0.399065 9.00936 0.724628 10.6461C1.05019 12.2828 1.85379 13.7862 3.03379 14.9662C4.2138 16.1462 5.71721 16.9498 7.35393 17.2754C8.99064 17.6009 10.6871 17.4338 12.2289 16.7952C13.7706 16.1566 15.0884 15.0752 16.0155 13.6876C16.9427 12.3001 17.4375 10.6688 17.4375 9C17.4354 6.76287 16.5458 4.61796 14.9639 3.03607C13.382 1.45418 11.2371 0.564569 9 0.5625ZM9 15.5625C7.70206 15.5625 6.43327 15.1776 5.35407 14.4565C4.27488 13.7354 3.43374 12.7105 2.93704 11.5114C2.44034 10.3122 2.31038 8.99272 2.5636 7.71972C2.81682 6.44672 3.44183 5.27739 4.35962 4.35961C5.2774 3.44183 6.44672 2.81681 7.71972 2.5636C8.99272 2.31038 10.3122 2.44034 11.5114 2.93704C12.7105 3.43374 13.7354 4.27487 14.4565 5.35407C15.1776 6.43327 15.5625 7.70206 15.5625 9C15.5604 10.7398 14.8684 12.4078 13.6381 13.6381C12.4078 14.8684 10.7399 15.5604 9 15.5625ZM14.3125 9C14.3125 9.24864 14.2137 9.4871 14.0379 9.66291C13.8621 9.83873 13.6236 9.9375 13.375 9.9375H9C8.75136 9.9375 8.51291 9.83873 8.33709 9.66291C8.16128 9.4871 8.0625 9.24864 8.0625 9V4.625C8.0625 4.37636 8.16128 4.1379 8.33709 3.96209C8.51291 3.78627 8.75136 3.6875 9 3.6875C9.24864 3.6875 9.4871 3.78627 9.66292 3.96209C9.83873 4.1379 9.9375 4.37636 9.9375 4.625V8.0625H13.375C13.6236 8.0625 13.8621 8.16127 14.0379 8.33709C14.2137 8.5129 14.3125 8.75136 14.3125 9Z"
                                fill="#0B9839" />
                        </svg>
                    </i>
                    <p class="">{{receta.tiempo_preparacion}}</p>
                </div>

                <div class="flex-center gap-[10px]">
                    <i>
                        <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M17.3902 15.4062C16.2944 13.5169 14.5933 12.0526 12.562 11.25C13.559 10.5023 14.2954 9.45986 14.667 8.27037C15.0385 7.08088 15.0264 5.80463 14.6324 4.6224C14.2383 3.44017 13.4822 2.4119 12.4713 1.68325C11.4603 0.954597 10.2457 0.5625 8.99955 0.5625C7.75337 0.5625 6.53878 0.954597 5.52783 1.68325C4.51688 2.4119 3.76082 3.44017 3.36674 4.6224C2.97266 5.80463 2.96055 7.08088 3.33212 8.27037C3.70369 9.45986 4.4401 10.5023 5.43705 11.25C3.40577 12.0526 1.70467 13.5169 0.608922 15.4062C0.484601 15.6217 0.450975 15.8778 0.515441 16.1181C0.579907 16.3583 0.737183 16.5632 0.952672 16.6875C1.16816 16.8118 1.42421 16.8454 1.66449 16.781C1.90477 16.7165 2.1096 16.5592 2.23392 16.3438C2.91964 15.1562 3.90586 14.17 5.09347 13.4844C6.28108 12.7988 7.62823 12.4378 8.99955 12.4378C10.3709 12.4378 11.718 12.7988 12.9056 13.4844C14.0932 14.17 15.0795 15.1562 15.7652 16.3438C15.8481 16.4858 15.9667 16.6038 16.1092 16.686C16.2517 16.7682 16.4132 16.8118 16.5777 16.8125C16.7423 16.8138 16.9043 16.7706 17.0464 16.6875C17.1532 16.626 17.2468 16.544 17.3218 16.4464C17.3969 16.3487 17.4519 16.2371 17.4839 16.1181C17.5158 15.9991 17.5239 15.875 17.5079 15.7529C17.4918 15.6307 17.4518 15.5129 17.3902 15.4062ZM4.93705 6.5C4.93705 5.69651 5.17531 4.91107 5.6217 4.243C6.06809 3.57492 6.70257 3.05422 7.4449 2.74674C8.18722 2.43926 9.00405 2.35881 9.7921 2.51556C10.5801 2.67231 11.304 3.05923 11.8722 3.62738C12.4403 4.19553 12.8272 4.9194 12.984 5.70745C13.1407 6.49549 13.0603 7.31233 12.7528 8.05465C12.4453 8.79698 11.9246 9.43145 11.2566 9.87785C10.5885 10.3242 9.80303 10.5625 8.99955 10.5625C7.9221 10.5625 6.88879 10.1345 6.12693 9.37262C5.36506 8.61075 4.93705 7.57744 4.93705 6.5Z"
                                fill="#4688C3" />
                        </svg>
                    </i>
                    <p class="">{{receta.porcion_personas}} personas</p>
                </div>
            </div>


            <p>
                {{receta.descripcion|safe}}
            </p>
        </div>


        <div class="carrusel img-control lg:row-span-3">
            <div class="main h-[200px] md:h-[553px]">
                {% for i in receta.galeria.all %}
                <img src="{{i.imagen.url}}" alt="">
                {% endfor %}
            </div>
        </div>


        <div>
            <h5 class="mb-3">INGREDIENTES</h5>
            <div id="ingredientes-list"></div>

            <h5 class="mb-3 mt-6">PREPARACIÃ“N</h5>
            <div id="preparacion-list"></div>
        </div>

        <div>

        </div>

        <script>
            const ingredientes = $("#ingredientes-list")
            const ingredientes_svg = `<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 0.875C7.39303 0.875 5.82214 1.35152 4.486 2.24431C3.14985 3.1371 2.10844 4.40605 1.49348 5.8907C0.87852 7.37535 0.717618 9.00901 1.03112 10.5851C1.34463 12.1612 2.11846 13.6089 3.25476 14.7452C4.39106 15.8815 5.8388 16.6554 7.4149 16.9689C8.99099 17.2824 10.6247 17.1215 12.1093 16.5065C13.594 15.8916 14.8629 14.8502 15.7557 13.514C16.6485 12.1779 17.125 10.607 17.125 9C17.1209 6.84638 16.2635 4.78216 14.7407 3.25932C13.2178 1.73648 11.1536 0.87913 9 0.875ZM12.8672 7.57812L8.28907 11.9531C8.17071 12.0645 8.01406 12.126 7.85157 12.125C7.77214 12.1261 7.69328 12.1115 7.61953 12.082C7.54578 12.0525 7.47861 12.0087 7.42188 11.9531L5.13282 9.76562C5.06933 9.71023 5.01769 9.64257 4.98102 9.56672C4.94434 9.49086 4.92338 9.40837 4.9194 9.32421C4.91542 9.24004 4.92849 9.15594 4.95784 9.07696C4.98719 8.99798 5.03221 8.92575 5.09019 8.86461C5.14816 8.80347 5.2179 8.75469 5.29522 8.72119C5.37253 8.68769 5.45582 8.67017 5.54007 8.66968C5.62433 8.66919 5.70781 8.68574 5.78551 8.71834C5.86321 8.75094 5.93351 8.79891 5.99219 8.85938L7.85157 10.6328L12.0078 6.67188C12.1293 6.56585 12.2871 6.51091 12.4482 6.51853C12.6093 6.52615 12.7612 6.59575 12.8722 6.71277C12.9832 6.8298 13.0446 6.98519 13.0437 7.14646C13.0428 7.30773 12.9795 7.4624 12.8672 7.57812Z" fill="#EA8215"/></svg>`
            const string_ingredientes = `{{receta.ingredientes|safe}}`

            const preparacion = $("#preparacion-list")
            const preparacion_svg = `<svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.7313 5.55628L11.0625 9.55628C10.9715 9.69325 10.8479 9.80549 10.7028 9.88294C10.5578 9.96039 10.3957 10.0006 10.2313 10H0.500025C0.40997 10.001 0.321419 9.97692 0.244193 9.93058C0.166967 9.88425 0.104087 9.81742 0.0625253 9.73753C0.0190831 9.65837 -0.00211242 9.56893 0.00118885 9.47869C0.00449012 9.38846 0.0321649 9.3008 0.0812752 9.22503L2.90003 5.00003L0.0812752 0.775026C0.0321649 0.699254 0.00449012 0.611598 0.00118885 0.521363C-0.00211242 0.431128 0.0190831 0.341684 0.0625253 0.262526C0.104087 0.18263 0.166967 0.115808 0.244193 0.0694721C0.321419 0.0231368 0.40997 -0.000900741 0.500025 2.5809e-05H10.2313C10.3957 -0.000565796 10.5578 0.039666 10.7028 0.117114C10.8479 0.194561 10.9715 0.306804 11.0625 0.443776L13.7313 4.44378C13.8414 4.60837 13.9003 4.80197 13.9003 5.00003C13.9003 5.19809 13.8414 5.39169 13.7313 5.55628Z" fill="#EA8215"/></svg>`
            const string_preparacion = `{{receta.preparacion|safe}}`


            const createListWithSvg = (element, string, svg) => {
                const list = document.createElement("ul")

                for (let i of string.split("\n")) {
                    let li = document.createElement("li")
                    let svg_c = document.createElement("div")
                    li.className = "flex items-center gap-2 py-[6.5px]"
                    svg_c.className = "h-4 w-4 flex m-0"
                    svg_c.innerHTML = svg
                    li.innerHTML = svg_c.outerHTML
                    li.appendChild(document.createTextNode(i))
                    list.appendChild(li)
                }
                element.appendChild(list)
            }
            createListWithSvg(ingredientes, string_ingredientes, ingredientes_svg)
            createListWithSvg(preparacion, string_preparacion, preparacion_svg)
        </script>


    </div>



    <div class="grid grid-cols-1 mt-6 gap-6
        md:grid-cols-6
        ">
        {% for i in similares %}
        {% include './receta_card.html' %}
        {% endfor %}

    </div>


</div>
{% endblock cont %}